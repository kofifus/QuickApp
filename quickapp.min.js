(()=>{let c=e=>Array.isArray(e),v=e=>"function"==typeof e,h=e=>"string"==typeof e,t=new Map,r=(e,r)=>{t.set(e.toLowerCase(),r)},O=e=>t.get(e?.toLowerCase()),n=(e,r)=>O(e.tagName)(e,r);let l=r=>{let t="";if(h(r))return r;if(c(r))for(let e=0;e<r.length;e++){var n=l(r[e]);n&&(t+=(t&&" ")+n)}else for(var e in r)r[e]&&(t+=(t&&" ")+e);return t},j=(e,{t:r,...t},n=[],f)=>({tag:f?e:e.toLowerCase(),l:{...t,...r?{t:l(r)}:{}},children:c(n)?n:[n],i:f}),g=e=>j(e,{},[],!0),M=(e,r,t,n,f,l)=>{"style"===r&&h(n)?e.style.cssText=n:"o"===r[0]&&"n"===r[1]?(e.o||(e.o={}),r=r.slice(2),(e.o[r]=n)?t||e.addEventListener(r,f):e.removeEventListener(r,f)):!l&&"list"!==r&&"form"!==r&&r in e?e[r]=null==n?"":n:null==n||!1===n?e.removeAttribute(r):e.setAttribute(r,n)},k=(r,t,n,e,f)=>{var l,i=r.l,o=r.i?document.createTextNode(r.tag):(n=n||"svg"===r.tag)?document.createElementNS("http://www.w3.org/2000/svg",r.tag,i.is&&i):document.createElement(r.tag,i.is&&i);for(l in i)M(o,l,null,i[l],t,n);for(let e=0;e<r.children.length;e++)k(r.children[e],t,n,o,null);e.insertBefore(r.node=o,f);f=O(o.tagName);return f&&(o.u=f(o,e)),o},q=(e,r)=>{e.node?.u?.(e.node),r.removeChild(e.node)},E=(e,a,c,v,p,b,d)=>{if(e){if(c!==v)if(null!=c&&c.i&&v.i)c.tag!==v.tag&&(a.nodeValue=v.tag);else if(null==c||c.tag!==v.tag)a=k(v,p,b,e,a),null!=c&&q(c,e);else{let e,r,t,n;var m,w=c.l,y=v.l;let f=c.children,l=v.children,i=(O(c.tag)&&!d&&(f=[],l=[]),0),o=0,u=f.length-1,s=l.length-1;for(m in b=b||"svg"===v.tag,{...w,...y})("value"===m||"selected"===m||"checked"===m?a:w)[m]!==y[m]&&M(a,m,w[m],y[m],p,b);for(;o<=s&&i<=u&&(t=f[i]?.l.key,n=l[o]?.l.key,null!=t)&&t===n;)E(a,f[i].node,f[i],l[o],p,b),++i,++o;for(;o<=s&&i<=u&&(t=f[u]?.l.key,n=l[s]?.l.key,null!=t)&&t===n;)E(a,f[u].node,f[u],l[s],p,b),--u,--s;if(i>u)for(;o<=s;)r=f[i],k(l[o],p,b,a,r&&r.node),o++;else if(o>s)for(;i<=u;)q(f[i],a),i++;else{var A,h,j={},g={};for(let e=i;e<=u;e++)null!=(t=f[e].l.key)&&(j[t]=f[e]);for(;o<=s;)r=f[i],t=r?.l.key,n=l[o]?.l.key,g[t]||null!=n&&n===f[i+1]?.l.key?(null==t&&q(r,a),i++):null==n?(null==t&&(E(a,r&&r.node,r,l[o],p,b),o++),i++):(t===n?(E(a,r.node,r,l[o],p,b),g[n]=!0,i++):null!=(e=j[n])?(A=a.insertBefore(e.node,r&&r.node),E(a,A,e,l[o],p,b),g[n]=!0):E(a,r&&r.node,null,l[o],p,b),o++);for(;i<=u;)null==(r=f[i])?.l.key&&q(r,a),i++;for(h in j)null==g[h]&&q(j[h],a)}}return v.node=a}},p=(e,r)=>{let t=r.target.o[r.type];c(t)||(t=[t]),e(t=(t=r.detail?.v?t.concat(...r.detail.v):t).concat([r]))},b=e=>{for(var r of e)b(r.children),r.node?.u?.(r.node)},i=e=>()=>e[0],d=(e,r)=>{let n=new Map,f=[r,[r()],n];r=(e,r,t)=>{if("subscriberdisconnected"!=r)return n.set(e,[r,t]),i(f[1]);n.delete(e)};return e.set(r,f),r},f=()=>{},m=(r,e,t,n)=>(r.add(t),t(e,n||f,e=>r.delete(e))),w=e=>{for(var[r,t]of e){var[n,[f],l]=t,i=n();if(!a(i,f)){t[1][0]=i;for(var[o,[u,s]]of l)o([u,i,f])}}},y=(e,r)=>{var t=e.get(r);if(t){t[1][0]=void 0;for(var[n,[f,l]]of t[2])l(r),n([f,"publisherdisconnected"]);e.delete(r)}},A=(e,r,t)=>{e.has(t)&&(t(r,"subscriberdisconnected"),e.delete(t))};let S=e=>" "==e||"\t"==e||"\n"==e||"\r"==e;let a=(n,f)=>{if(n===f)return!0;if(n&&f&&"object"==typeof n&&"object"==typeof f){if(n.constructor!==f.constructor)return!1;let e,r,t;if(Array.isArray(n)){if((e=n.length)!=f.length)return!1;for(r=e;0!=r--;)if(!a(n[r],f[r]))return!1}else if(n instanceof Map&&f instanceof Map){if(n.size!==f.size)return!1;for(r of n.entries())if(!f.has(r[0]))return!1;for(r of n.entries())if(!a(r[1],f.get(r[0])))return!1}else if(n instanceof Set&&f instanceof Set){if(n.size!==f.size)return!1;for(r of n.entries())if(!f.has(r[0]))return!1}else if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(f)){if((e=n.length)!=f.length)return!1;for(r=e;0!=r--;)if(n[r]!==f[r])return!1}else{if(n.constructor===RegExp)return n.source===f.source&&n.flags===f.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===f.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===f.toString();if(t=Object.keys(n),(e=t.length)!==Object.keys(f).length)return!1;for(r=e;0!=r--;)if(!Object.prototype.hasOwnProperty.call(f,t[r]))return!1;for(r=e;0!=r--;){var l=t[r];if(!a(n[l],f[l]))return!1}}return!0}return n!=n&&f!=f};window.QuikApp={app:r,mount:n,quikApp:(e,t)=>(r(e,(e,r)=>((t,e,r)=>{let n=t,f=j(t.nodeName,{},[]),l,i,o=new Map,u=new Set;let s=()=>{l=!1;var e=f,r=i.view();f=j(n.nodeName,{},r),n=E(n.parentNode,n,e,f,e=>p(a,e),!1,!0)},a=e=>{if(f=t.isConnected?f:void 0){if(!v(e)&&!c(e))throw"Invalid action";var[e,...r]=e=v(e)?[e]:e;i.dispatch.forEach(e=>e[0]?.()),e(...r),i.dispatch.forEach(e=>e[1]?.()),l||(l=!0,requestAnimationFrame(s)),w(o)}};(i=r({hostNode:t,parentNode:e,dispatch:e=>requestAnimationFrame(()=>a(e)),publishAtom:e=>d(o,e),subscribeAtom:(e,r)=>m(u,a,e,r),unpublishAtom:e=>y(o,e),unsubscribeAtom:e=>A(u,a,e)})).dispatch?c(i.dispatch[0])||(i.dispatch=[i.dispatch]):i.dispatch=[];r=Object.entries(i.methods||{}).map(([e,r])=>[e,(...e)=>a([r].concat(e))]),Object.assign(t,Object.fromEntries(r)),e=window.getComputedStyle(t).display;return e&&"inline"!=e||(t.style.display="inline-block"),s(),e=>{for(var[r,t]of o)y(o,r);for(var n of u)A(u,a,n);b(f.children),i.destroy?.(),f=void 0}})(e,r,t)),n),H:(t,...e)=>{let n,f,l,i,o=[],u,s="",a=0,c=!0,v=e=>(e||0===e)&&o.push("string"==typeof e?g(e):"number"==typeof e?g(""+e):e),p=(e,r=e.flat(2))=>{v(n.call?n(l,r):j(n,l,r)),a=0};var b,d=e=>{(s=e?s.trimEnd():s)&&v(s),c=!1,s=""},m=()=>{i=[o,n,l,i],o=[],a=0},w=(e=a)=>{n=s,s="",l={},a=e},y=(e=a)=>{l[s]=!0,a=e,s=""},A=e=>{l[f]=e,a=5,s=""};for(let r=0;r<t.length;r++){for(let e=0;e<t[r].length;e++)u=t[r][e],0==a?"<"==u?a=2:S(u)?"\n"==u?c=!0:c||(a=1,s=u):(a=1,s=u):1==a?"<"==u?a=2:"\n"==u?(d(!1),c=!0,a=0):s+=u:2==a?"/"==u?(a=3,d(!0)):(d(!(a=4)),s=u):3==a?">"==u&&(b=void 0,b=o,[o,n,l,i]=i,p(b)):4==a?S(u)?w(5):"/"==u?w(6):">"==u?(w(),m()):s+=u:6==a?">"==u&&p([]):5==a?"."!=u&&("/"==u?a=6:">"==u?m():S(u)||(s=u,a=7)):7==a?"="==u?(f=s,a=8):">"==u?(y(),m()):"/"==u?y(6):S(u)?y(5):s+=u:8==a?'"'==u&&(a=9,s=""):9==a&&('"'==u?A(s):s+=u);2==a?(n=e[r],l={},a=5):1==a?(d(!e[r]),v(e[r])):5==a?h(e[r])?""!=e[r]&&(l[e[r]]=!0):l={...l,...e[r]}:8==a?A(e[r]):9==a?s+=e[r]:0==a&&null!=e[r]&&v(e[r])}return o.flat(2)},DispatchEvent:(e,r,...t)=>{let n=new CustomEvent(r,{detail:{v:t}});return()=>{e.dispatchEvent(n)}}}})();
